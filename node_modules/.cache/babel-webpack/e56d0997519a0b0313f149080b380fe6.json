{"ast":null,"code":"// @ts-ignore\nimport { FunksioneAuction } from '../utils/functions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auction-storage.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\n\nfunction AuctionListComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"th\", 10);\n    i0.ɵɵelementStart(2, \"a\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵelementStart(12, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function AuctionListComponent_tr_16_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const auction_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.deleteAuction(auction_r1);\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const auction_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/auction/\", auction_r1.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", auction_r1.prod_name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", auction_r1.seller, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 6, auction_r1.prod_highest), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.calculateDiff(auction_r1.prod_date), \" days \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", ctx_r0.hideDeleteButton(auction_r1.seller));\n  }\n}\n\nexport let AuctionListComponent = /*#__PURE__*/(() => {\n  class AuctionListComponent extends FunksioneAuction {\n    constructor(storage) {\n      super();\n      this.storage = storage;\n    }\n\n    ngOnInit() {\n      this.auctionlist = this.storage.auctionList;\n\n      var compareDate = function (emp1, emp2) {\n        var emp1Date = new Date(emp1.prod_date).getTime();\n        var emp2Date = new Date(emp2.prod_date).getTime();\n        return emp1Date > emp2Date ? 1 : -1;\n      };\n\n      var sortedArray = this.auctionlist.sort(compareDate);\n      console.log('array i ri ', sortedArray); // console.log('auction list', this.auctionlist[0].prod_name);\n    } // calculateDiff(dateSent: Date) {\n    //   const currentDate = new Date();\n    //   dateSent = new Date(dateSent);\n    //   // tslint:disable-next-line:max-line-length\n    // tslint:disable-next-line:max-line-length\n    //   return Math.floor((Date.UTC(dateSent.getFullYear(), dateSent.getMonth(), dateSent.getDate()) - Date.UTC(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate()) ) / (1000 * 60 * 60 * 24));\n    // }\n\n\n    deleteAuction(auction) {\n      const lista = this.auctionlist;\n      const indexOfAuction = this.storage.findItemIndex(auction);\n      lista.splice(indexOfAuction, 1);\n      localStorage.clear();\n      localStorage.setItem('auction_list', JSON.stringify(lista));\n    }\n\n  }\n\n  AuctionListComponent.ɵfac = function AuctionListComponent_Factory(t) {\n    return new (t || AuctionListComponent)(i0.ɵɵdirectiveInject(i1.AuctionStorageService));\n  };\n\n  AuctionListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AuctionListComponent,\n    selectors: [[\"app-auction-list\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 25,\n    vars: 4,\n    consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-12\", \"content-justify-center\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"form-row\"], [1, \"col-md-6\", \"mb-3\"], [\"routerLink\", \"/new-auction\", 1, \"btn\", \"btn-primary\"], [1, \"col-md-6\", \"mb-3\", \"text-right\"], [\"scope\", \"row\"], [3, \"routerLink\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"hidden\", \"click\"]],\n    template: function AuctionListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"table\", 3);\n        i0.ɵɵelementStart(4, \"thead\");\n        i0.ɵɵelementStart(5, \"tr\");\n        i0.ɵɵelementStart(6, \"th\", 4);\n        i0.ɵɵtext(7, \"Product\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"th\", 4);\n        i0.ɵɵtext(9, \"Seller\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"th\", 4);\n        i0.ɵɵtext(11, \"Top Bid\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"th\", 4);\n        i0.ɵɵtext(13, \"Time Remaining\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"th\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"tbody\");\n        i0.ɵɵtemplate(16, AuctionListComponent_tr_16_Template, 14, 8, \"tr\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 6);\n        i0.ɵɵelementStart(18, \"div\", 7);\n        i0.ɵɵelementStart(19, \"button\", 8);\n        i0.ɵɵtext(20, \"New Auction\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 9);\n        i0.ɵɵelementStart(22, \"h5\");\n        i0.ɵɵtext(23);\n        i0.ɵɵpipe(24, \"currency\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngForOf\", ctx.auctionlist);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"Your Current Wallet: \", i0.ɵɵpipeBind1(24, 2, 1000), \"\");\n      }\n    },\n    directives: [i2.NgForOf, i3.RouterLink, i3.RouterLinkWithHref],\n    pipes: [i2.CurrencyPipe],\n    styles: [\"\"]\n  });\n  return AuctionListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}