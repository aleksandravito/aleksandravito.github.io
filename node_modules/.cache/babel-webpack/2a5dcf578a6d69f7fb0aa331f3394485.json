{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport { AUCTIONS } from '../auctions'; // import { DatePipe } from '@angular/common';\n\nlet NewAuctionComponent = class NewAuctionComponent {\n  constructor(storage, datepipe) {\n    // this.oldItems = JSON.parse(this.storage)!;\n    this.storage = storage;\n    this.datepipe = datepipe;\n    this.currentDate = new Date();\n    this.latest_date = '2021-07-08';\n  }\n\n  get name() {\n    return this.heroForm.get('name');\n  }\n\n  get description() {\n    return this.heroForm.get('description');\n  }\n\n  get price() {\n    return this.heroForm.get('price');\n  }\n\n  get enddate() {\n    return this.heroForm.get('enddate');\n  }\n\n  ngOnInit() {\n    this.heroForm = new FormGroup({\n      name: new FormControl('', [Validators.required, Validators.minLength(4)]),\n      description: new FormControl('', [Validators.required, Validators.minLength(11)]),\n      price: new FormControl('', [Validators.required, Validators.min(1)]),\n      enddate: new FormControl('', [Validators.required])\n    });\n  }\n\n  save(heroForm) {\n    let newItem;\n    newItem = AUCTIONS; // newItem = this.storage.auctionList;\n\n    localStorage.clear();\n    const addItem = {\n      id: newItem[newItem.length - 1].id + 1,\n      seller: 'alex',\n      prod_name: heroForm.value.name,\n      prod_desc: heroForm.value.description,\n      prod_start: heroForm.value.price,\n      prod_highest: heroForm.value.price,\n      prod_date: heroForm.value.enddate,\n      prod_buyer: ''\n    };\n    newItem.push(addItem);\n    console.log('tipi -> ', heroForm.value.name);\n    localStorage.setItem('auction_list', JSON.stringify(newItem));\n    heroForm.reset();\n  }\n\n};\nNewAuctionComponent = __decorate([Component({\n  selector: 'app-new-auction',\n  templateUrl: './new-auction.component.html',\n  styleUrls: ['./new-auction.component.css']\n})], NewAuctionComponent);\nexport { NewAuctionComponent };","map":null,"metadata":{},"sourceType":"module"}