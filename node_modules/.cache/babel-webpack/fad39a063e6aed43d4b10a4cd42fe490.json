{"ast":null,"code":"import { FormGroup, FormControl } from '@angular/forms';\nimport { Validators } from '@angular/forms';\nimport { AUCTIONS } from '../auctions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auction-storage.service\";\nimport * as i2 from \"../_services\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction NewAuctionComponent_div_11_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewAuctionComponent_div_11_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Name must be at least 4 characters long. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewAuctionComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, NewAuctionComponent_div_11_div_1_Template, 2, 0, \"div\", 18);\n    i0.ɵɵtemplate(2, NewAuctionComponent_div_11_div_2_Template, 2, 0, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.name.errors == null ? null : ctx_r0.name.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.name.errors == null ? null : ctx_r0.name.errors.minlength);\n  }\n}\n\nfunction NewAuctionComponent_div_21_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Description is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewAuctionComponent_div_21_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Description must be at least 10 characters long. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewAuctionComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, NewAuctionComponent_div_21_div_1_Template, 2, 0, \"div\", 18);\n    i0.ɵɵtemplate(2, NewAuctionComponent_div_21_div_2_Template, 2, 0, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.description.errors == null ? null : ctx_r1.description.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.description.errors == null ? null : ctx_r1.description.errors.minlength);\n  }\n}\n\nfunction NewAuctionComponent_div_30_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Price is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewAuctionComponent_div_30_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Price must be at least 1 dollar. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewAuctionComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, NewAuctionComponent_div_30_div_1_Template, 2, 0, \"div\", 18);\n    i0.ɵɵtemplate(2, NewAuctionComponent_div_30_div_2_Template, 2, 0, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.price.errors == null ? null : ctx_r2.price.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.price.errors == null ? null : ctx_r2.price.errors.min);\n  }\n}\n\nfunction NewAuctionComponent_div_39_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" End date is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NewAuctionComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtemplate(1, NewAuctionComponent_div_39_div_1_Template, 2, 0, \"div\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.enddate.errors == null ? null : ctx_r3.enddate.errors.required);\n  }\n}\n\nexport let NewAuctionComponent = /*#__PURE__*/(() => {\n  class NewAuctionComponent {\n    constructor(storage, accountService, datepipe) {\n      this.storage = storage;\n      this.accountService = accountService;\n      this.datepipe = datepipe;\n      this.currentDate = new Date();\n      this.latest_date = this.datepipe.transform(this.currentDate, 'yyyy-MM-dd');\n      this.user = this.accountService.userValue; // this.oldItems = JSON.parse(this.storage)!;\n    }\n\n    get name() {\n      return this.heroForm.get('name');\n    }\n\n    get description() {\n      return this.heroForm.get('description');\n    }\n\n    get price() {\n      return this.heroForm.get('price');\n    }\n\n    get enddate() {\n      return this.heroForm.get('enddate');\n    }\n\n    ngOnInit() {\n      this.heroForm = new FormGroup({\n        name: new FormControl('', [Validators.required, Validators.minLength(4)]),\n        description: new FormControl('', [Validators.required, Validators.minLength(11)]),\n        price: new FormControl('', [Validators.required, Validators.min(1)]),\n        enddate: new FormControl('', [Validators.required])\n      });\n    }\n\n    save(heroForm) {\n      let newItem;\n      newItem = AUCTIONS; // newItem = this.storage.auctionList;\n\n      localStorage.removeItem('auction_list');\n      const addItem = {\n        id: newItem.length ? Math.max(...newItem.map(x => x.id)) + 1 : 1,\n        seller: this.user.firstName,\n        prod_name: heroForm.value.name,\n        prod_desc: heroForm.value.description,\n        prod_start: heroForm.value.price,\n        prod_highest: heroForm.value.price,\n        prod_date: heroForm.value.enddate,\n        prod_buyer: ''\n      };\n      newItem.push(addItem);\n      console.log('tipi -> ', heroForm.value.name);\n      localStorage.setItem('auction_list', JSON.stringify(newItem));\n      heroForm.reset();\n    }\n\n  }\n\n  NewAuctionComponent.ɵfac = function NewAuctionComponent_Factory(t) {\n    return new (t || NewAuctionComponent)(i0.ɵɵdirectiveInject(i1.AuctionStorageService), i0.ɵɵdirectiveInject(i2.AccountService), i0.ɵɵdirectiveInject(i3.DatePipe));\n  };\n\n  NewAuctionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NewAuctionComponent,\n    selectors: [[\"app-new-auction\"]],\n    decls: 44,\n    vars: 7,\n    consts: [[1, \"card\", \"w-25\", \"m-auto\"], [1, \"card-body\"], [\"novalidate\", \"\", 1, \"center-block\", 3, \"formGroup\"], [1, \"form-row\"], [1, \"col-md-12\", \"mb-3\", \"form-group\"], [\"for\", \"validationDefault01\"], [1, \"text-danger\"], [\"type\", \"text\", \"id\", \"validationDefault01\", \"formControlName\", \"name\", 1, \"form-control\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"validationDefault03\"], [\"id\", \"validationDefault03\", \"rows\", \"5\", \"cols\", \"100\", \"formControlName\", \"description\", 1, \"form-control\"], [\"for\", \"validationDefault04\"], [\"type\", \"number\", \"id\", \"validationDefault04\", \"formControlName\", \"price\", 1, \"form-control\"], [\"for\", \"validationDefault05\"], [\"type\", \"date\", \"id\", \"validationDefault05\", \"formControlName\", \"enddate\", 1, \"form-control\", 3, \"min\"], [1, \"col-md-12\", \"mb-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\", \"click\"], [1, \"alert\", \"alert-danger\"], [4, \"ngIf\"]],\n    template: function NewAuctionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"form\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"fieldset\");\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"label\", 5);\n        i0.ɵɵtext(7, \"Product name \");\n        i0.ɵɵelementStart(8, \"span\", 6);\n        i0.ɵɵtext(9, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, NewAuctionComponent_div_11_Template, 3, 2, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 3);\n        i0.ɵɵelementStart(13, \"fieldset\");\n        i0.ɵɵelementStart(14, \"div\", 4);\n        i0.ɵɵelementStart(15, \"label\", 9);\n        i0.ɵɵtext(16, \"Description \");\n        i0.ɵɵelementStart(17, \"span\", 6);\n        i0.ɵɵtext(18, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"textarea\", 10);\n        i0.ɵɵtext(20, \"      \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(21, NewAuctionComponent_div_21_Template, 3, 2, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 3);\n        i0.ɵɵelementStart(23, \"fieldset\");\n        i0.ɵɵelementStart(24, \"div\", 4);\n        i0.ɵɵelementStart(25, \"label\", 11);\n        i0.ɵɵtext(26, \"Starting Bid \");\n        i0.ɵɵelementStart(27, \"span\", 6);\n        i0.ɵɵtext(28, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"input\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(30, NewAuctionComponent_div_30_Template, 3, 2, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 3);\n        i0.ɵɵelementStart(32, \"fieldset\");\n        i0.ɵɵelementStart(33, \"div\", 4);\n        i0.ɵɵelementStart(34, \"label\", 13);\n        i0.ɵɵtext(35, \"End Date \");\n        i0.ɵɵelementStart(36, \"span\", 6);\n        i0.ɵɵtext(37, \"*\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(38, \"input\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(39, NewAuctionComponent_div_39_Template, 2, 1, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 3);\n        i0.ɵɵelementStart(41, \"div\", 15);\n        i0.ɵɵelementStart(42, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function NewAuctionComponent_Template_button_click_42_listener() {\n          return ctx.save(ctx.heroForm);\n        });\n        i0.ɵɵtext(43, \" Create Auction \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"formGroup\", ctx.heroForm);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.name.invalid && (ctx.name.dirty || ctx.name.touched));\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngIf\", ctx.description.invalid && (ctx.description.dirty || ctx.description.touched));\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.price.invalid && (ctx.price.dirty || ctx.price.touched));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"min\", ctx.latest_date);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.enddate.invalid && (ctx.enddate.dirty || ctx.enddate.touched));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", !ctx.heroForm.valid);\n      }\n    },\n    directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlName, i3.NgIf, i4.NumberValueAccessor],\n    styles: [\"\"]\n  });\n  return NewAuctionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}