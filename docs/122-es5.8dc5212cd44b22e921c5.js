!function(){function r(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function e(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}function n(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkangular=self.webpackChunkangular||[]).push([[122],{122:function(r,t,i){"use strict";i.r(t),i.d(t,{AccountModule:function(){return S}});var s=i(665),o=i(8583),a=i(5076),u=i(639),c=i(7617),f=function(){var r=function r(e,t){n(this,r),this.router=e,this.accountService=t,this.accountService.userValue&&this.router.navigate(["/"])};return r.\u0275fac=function(e){return new(e||r)(u.Y36(a.F0),u.Y36(c.B))},r.\u0275cmp=u.Xpm({type:r,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(r,e){1&r&&(u.TgZ(0,"div",0),u._UZ(1,"router-outlet"),u.qZA())},directives:[a.lC],encapsulation:2}),r}(),d=i(8049);function m(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Username is required"),u.qZA())}function l(r,e){if(1&r&&(u.TgZ(0,"div",13),u.YNc(1,m,2,0,"div",14),u.qZA()),2&r){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",n.f.username.errors.required)}}function g(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Password is required"),u.qZA())}function p(r,e){if(1&r&&(u.TgZ(0,"div",13),u.YNc(1,g,2,0,"div",14),u.qZA()),2&r){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",n.f.password.errors.required)}}function v(r,e){1&r&&u._UZ(0,"span",15)}var Z=function(r){return{"is-invalid":r}};function b(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"First Name is required"),u.qZA())}function h(r,e){if(1&r&&(u.TgZ(0,"div",17),u.YNc(1,b,2,0,"div",18),u.qZA()),2&r){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",n.f.firstName.errors.required)}}function q(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Last Name is required"),u.qZA())}function A(r,e){if(1&r&&(u.TgZ(0,"div",17),u.YNc(1,q,2,0,"div",18),u.qZA()),2&r){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",n.f.lastName.errors.required)}}function T(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Username is required"),u.qZA())}function N(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Username needs more than 3 characters and less than 20 characters"),u.qZA())}function x(r,e){if(1&r&&(u.TgZ(0,"div",17),u.YNc(1,T,2,0,"div",18),u.YNc(2,N,2,0,"div",18),u.qZA()),2&r){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",n.f.username.errors.required),u.xp6(1),u.Q6J("ngIf",n.f.username.errors.minlength)}}function w(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Password is required"),u.qZA())}function U(r,e){1&r&&(u.TgZ(0,"div"),u._uU(1,"Password must be at least 8 characters"),u.qZA())}function J(r,e){if(1&r&&(u.TgZ(0,"div",17),u.YNc(1,w,2,0,"div",18),u.YNc(2,U,2,0,"div",18),u.qZA()),2&r){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",n.f.password.errors.required),u.xp6(1),u.Q6J("ngIf",n.f.password.errors.minlength)}}function I(r,e){1&r&&u._UZ(0,"span",19)}var k,_,Y,y=function(r){return{"is-invalid":r}},Q=[{path:"",component:f,children:[{path:"login",component:(_=function(){function r(e,t,i,s,o){n(this,r),this.formBuilder=e,this.route=t,this.router=i,this.accountService=s,this.alertService=o,this.loading=!1,this.submitted=!1}return e(r,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({username:["",s.kI.required],password:["",s.kI.required]})}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){var r=this;this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe((0,d.P)()).subscribe({next:function(){r.router.navigateByUrl(r.route.snapshot.queryParams.returnUrl||"/")},error:function(e){r.alertService.error(e),r.loading=!1}}))}}]),r}(),_.\u0275fac=function(r){return new(r||_)(u.Y36(s.qu),u.Y36(a.gz),u.Y36(a.F0),u.Y36(c.B),u.Y36(c.c))},_.\u0275cmp=u.Xpm({type:_,selectors:[["ng-component"]],decls:21,vars:11,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(u.TgZ(0,"div",0),u.TgZ(1,"h4",1),u._uU(2,"Login"),u.qZA(),u.TgZ(3,"div",2),u.TgZ(4,"form",3),u.NdJ("ngSubmit",function(){return e.onSubmit()}),u.TgZ(5,"div",4),u.TgZ(6,"label",5),u._uU(7,"Username"),u.qZA(),u._UZ(8,"input",6),u.YNc(9,l,2,1,"div",7),u.qZA(),u.TgZ(10,"div",4),u.TgZ(11,"label",8),u._uU(12,"Password"),u.qZA(),u._UZ(13,"input",9),u.YNc(14,p,2,1,"div",7),u.qZA(),u.TgZ(15,"div",4),u.TgZ(16,"button",10),u.YNc(17,v,1,0,"span",11),u._uU(18," Login "),u.qZA(),u.TgZ(19,"a",12),u._uU(20,"Register"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&r&&(u.xp6(4),u.Q6J("formGroup",e.form),u.xp6(4),u.Q6J("ngClass",u.VKq(7,Z,e.submitted&&e.f.username.errors)),u.xp6(1),u.Q6J("ngIf",e.submitted&&e.f.username.errors),u.xp6(4),u.Q6J("ngClass",u.VKq(9,Z,e.submitted&&e.f.password.errors)),u.xp6(1),u.Q6J("ngIf",e.submitted&&e.f.password.errors),u.xp6(2),u.Q6J("disabled",e.loading),u.xp6(1),u.Q6J("ngIf",e.loading))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,o.mk,o.O5,a.yS],encapsulation:2}),_)},{path:"register",component:(k=function(){function r(e,t,i,s,o){n(this,r),this.formBuilder=e,this.route=t,this.router=i,this.accountService=s,this.alertService=o,this.loading=!1,this.submitted=!1}return e(r,[{key:"ngOnInit",value:function(){this.form=this.formBuilder.group({firstName:["",s.kI.required],lastName:["",s.kI.required],username:["",[s.kI.required,s.kI.minLength(4),s.kI.maxLength(19)]],password:["",[s.kI.required,s.kI.minLength(8)]]})}},{key:"f",get:function(){return this.form.controls}},{key:"onSubmit",value:function(){var r=this;this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.register(this.form.value).pipe((0,d.P)()).subscribe({next:function(){r.alertService.success("Registration successful",{keepAfterRouteChange:!0}),r.router.navigate(["../login"],{relativeTo:r.route})},error:function(e){r.alertService.error(e),r.loading=!1}}))}}]),r}(),k.\u0275fac=function(r){return new(r||k)(u.Y36(s.qu),u.Y36(a.gz),u.Y36(a.F0),u.Y36(c.B),u.Y36(c.c))},k.\u0275cmp=u.Xpm({type:k,selectors:[["ng-component"]],decls:31,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(u.TgZ(0,"div",0),u.TgZ(1,"h4",1),u._uU(2,"Register"),u.qZA(),u.TgZ(3,"div",2),u.TgZ(4,"form",3),u.NdJ("ngSubmit",function(){return e.onSubmit()}),u.TgZ(5,"div",4),u.TgZ(6,"label",5),u._uU(7,"First Name"),u.qZA(),u._UZ(8,"input",6),u.YNc(9,h,2,1,"div",7),u.qZA(),u.TgZ(10,"div",4),u.TgZ(11,"label",8),u._uU(12,"Last Name"),u.qZA(),u._UZ(13,"input",9),u.YNc(14,A,2,1,"div",7),u.qZA(),u.TgZ(15,"div",4),u.TgZ(16,"label",10),u._uU(17,"Username"),u.qZA(),u._UZ(18,"input",11),u.YNc(19,x,3,2,"div",7),u.qZA(),u.TgZ(20,"div",4),u.TgZ(21,"label",12),u._uU(22,"Password"),u.qZA(),u._UZ(23,"input",13),u.YNc(24,J,3,2,"div",7),u.qZA(),u.TgZ(25,"div",4),u.TgZ(26,"button",14),u.YNc(27,I,1,0,"span",15),u._uU(28," Register "),u.qZA(),u.TgZ(29,"a",16),u._uU(30,"Cancel"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&r&&(u.xp6(4),u.Q6J("formGroup",e.form),u.xp6(4),u.Q6J("ngClass",u.VKq(11,y,e.submitted&&e.f.firstName.errors)),u.xp6(1),u.Q6J("ngIf",e.submitted&&e.f.firstName.errors),u.xp6(4),u.Q6J("ngClass",u.VKq(13,y,e.submitted&&e.f.lastName.errors)),u.xp6(1),u.Q6J("ngIf",e.submitted&&e.f.lastName.errors),u.xp6(4),u.Q6J("ngClass",u.VKq(15,y,e.submitted&&e.f.username.errors)),u.xp6(1),u.Q6J("ngIf",e.submitted&&e.f.username.errors),u.xp6(4),u.Q6J("ngClass",u.VKq(17,y,e.submitted&&e.f.password.errors)),u.xp6(1),u.Q6J("ngIf",e.submitted&&e.f.password.errors),u.xp6(2),u.Q6J("disabled",e.loading),u.xp6(1),u.Q6J("ngIf",e.loading))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,o.mk,o.O5,a.yS],encapsulation:2}),k)}]}],C=function(){var r=function r(){n(this,r)};return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[a.Bz.forChild(Q)],a.Bz]}),r}(),S=((Y=function r(){n(this,r)}).\u0275fac=function(r){return new(r||Y)},Y.\u0275mod=u.oAB({type:Y}),Y.\u0275inj=u.cJS({imports:[[o.ez,s.UX,C]]}),Y)}}])}();